<app-header></app-header>
<body>
<div class="form-container">
  <h2>Simulación del Granjero</h2>
  <form [formGroup]="orderForm">
    <div class="form-group">
      <label for="simulationDays">Número de días para la simulación:</label>
      <input type="number" class="form-control" formControlName="simulationDays" placeholder="Ingrese el número de días">
    </div>
    <div class="form-group">
      <label for="eggSalePrice">Precio de venta por huevo:</label>
      <input type="number" class="form-control" formControlName="eggSalePrice" placeholder="Ingrese el precio de venta por huevo">
    </div>
    <div class="form-group">
      <label for="chickSalePrice">Precio de venta por pollo:</label>
      <input type="number" class="form-control" formControlName="chickSalePrice" placeholder="Ingrese el precio de venta por pollo">
    </div>
    <div class="form-group">
      <button type="button" class="btn-submit" (click)="simulateFarm()">Generar</button>
      <button type="button" class="btn-clear" (click)="clearForm()">Limpiar</button>
    </div>
  </form>
  
</div>

<!-- Tabla de Resultados de la Simulación -->
<div class="table-container" *ngIf="simulationResults.length > 0">
  <h2>Resultados de la Simulación</h2>
  <div class="card-container" *ngIf="simulationResults.length > 0">
    
    <div class="card">
        <h3>Resumen de la Simulación de {{ simulationDays }} días</h3>
      <p><strong>Total de Ganancia:</strong> {{ totalIncome }} Bs</p>
      <p><strong>Huevos Puestos:</strong> {{ totalEggsLaid }}</p>
      <p><strong>Huevos Rotos:</strong> {{ totalEggsBroken }}</p>
      <p><strong>Pollos Nacidos:</strong> {{ totalChicksBorn }}</p>
      <p><strong>Pollos Muertos:</strong> {{ totalChicksDied }}</p>
      <p><strong>Total de Pollos vendidos:</strong> {{ totalChickensSold }}</p>
      <p><strong>Total de Huevos vendidos:</strong> {{ totalEggsSold }}</p>
    </div>
  </div>
  <div class="table-scrollable">
    <fieldset>
      <legend>Resultados </legend>
      <table>
        <thead>
          <tr>
            <th>Día</th>
            <th>Huevos Puestos</th>
            <th>Huevos Rotos</th>
            <th>Pollos Nacidos</th>
            <th>Pollos Muertos</th>
            <th>Ingreso Diario</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let result of simulationResults; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ result.eggsLaid }}</td>
            <td>{{ result.eggsBroken }}</td>
            <td>{{ result.chicksBorn }}</td>
            <td>{{ result.chicksDied }}</td>
            <td>{{ result.dailyIncome }}</td>
          </tr>
        </tbody>
      </table>
    </fieldset>
  </div>
  <div class="card-container">
    <h3>Resultado Total</h3>
    <div class="card">
      <p>Ingreso Total: {{ totalIncome }} Bs</p>
    </div>
  </div>
</div>
</body>
<app-footer></app-footer>
